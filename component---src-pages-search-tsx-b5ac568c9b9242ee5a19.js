"use strict";(self.webpackChunkblog=self.webpackChunkblog||[]).push([[334],{4098:function(e,t,n){n.d(t,{Z:function(){return h}});var i=n(2784),r=n(6293);const o=e=>!e||0===Object.keys(e).length,a=(e,t)=>{if(o(e))return null;const n=e.getItem(t);return n?JSON.parse(n):null},s=(e,t,n)=>o(e)?null:e.setItem(t,JSON.stringify(n)),u="undefined"!=typeof window?window.localStorage:void 0,c="undefined"!=typeof window?window.sessionStorage:void 0,d=((0,r.r$)(s,u),(0,r.r$)(a,u),(0,r.r$)(s,c)),l=(0,r.r$)(a,c),f="__maeng_blog_session_storage_key__";var h=()=>{const e=(t=1,l(f+"/count")||t);var t;const{0:n,1:r}=(0,i.useState)(e),o=(0,i.useRef)(n),a=(0,i.useCallback)((()=>r((e=>e+1))),[]);return(0,i.useEffect)((()=>{o.current=n,d(f+"/count",n)}),[n]),[n,o,a]}},1090:function(e,t,n){var i=n(2784);t.Z=e=>{(0,i.useEffect)((()=>(window.addEventListener("scroll",e,{passive:!1}),()=>{window.removeEventListener("scroll",e)})),[])}},6986:function(e,t,n){n.r(t),n.d(t,{default:function(){return I}});var i=n(2784),r=n(1205),o=n(1908),a=n(1892),s=n(4098),u=n(245),c=n(1090),d=n(1653),l=n(3966),f=function(){function e(){}return e.prototype.expandToken=function(e){for(var t=[],n="",i=0,r=e.length;i<r;++i)n+=e.charAt(i),t.push(n);return t},e}(),h=function(){function e(){}return e.prototype.sanitize=function(e){return e?e.toLocaleLowerCase().trim():""},e}();function _(e,t){t=t||[];for(var n=e=e||{},i=0;i<t.length;i++)if(null==(n=n[t[i]]))return null;return n}var m=function(){function e(e){this._uidFieldName=e,this._tokenToIdfCache={},this._tokenMap={}}var t=e.prototype;return t.indexDocument=function(e,t,n){this._tokenToIdfCache={};var i,r=this._tokenMap;"object"!=typeof r[e]?r[e]=i={$numDocumentOccurrences:0,$totalNumOccurrences:1,$uidMap:{}}:(i=r[e]).$totalNumOccurrences++;var o=i.$uidMap;"object"!=typeof o[t]?(i.$numDocumentOccurrences++,o[t]={$document:n,$numTokenOccurrences:1}):o[t].$numTokenOccurrences++},t.search=function(e,t){for(var n={},i=0,r=e.length;i<r;i++){var o=e[i],a=this._tokenMap[o];if(!a)return[];if(0===i)for(var s=0,u=(c=Object.keys(a.$uidMap)).length;s<u;s++){n[d=c[s]]=a.$uidMap[d].$document}else{var c;for(s=0,u=(c=Object.keys(n)).length;s<u;s++){var d=c[s];"object"!=typeof a.$uidMap[d]&&delete n[d]}}}var l=[];for(var d in n)l.push(n[d]);var f=this._createCalculateTfIdf();return l.sort((function(n,i){return f(e,i,t)-f(e,n,t)}))},t._createCalculateIdf=function(){var e=this._tokenMap,t=this._tokenToIdfCache;return function(n,i){if(!t[n]){var r=void 0!==e[n]?e[n].$numDocumentOccurrences:0;t[n]=1+Math.log(i.length/(1+r))}return t[n]}},t._createCalculateTfIdf=function(){var e=this._tokenMap,t=this._uidFieldName,n=this._createCalculateIdf();return function(i,r,o){for(var a=0,s=0,u=i.length;s<u;++s){var c,d=i[s],l=n(d,o);l===1/0&&(l=0),c=t instanceof Array?r&&_(r,t):r&&r[t],a+=(void 0!==e[d]&&void 0!==e[d].$uidMap[c]?e[d].$uidMap[c].$numTokenOccurrences:0)*l}return a}},e}(),g=/[^a-zа-яё0-9\-']+/i,p=function(){function e(){}return e.prototype.tokenize=function(e){return e.split(g).filter((function(e){return e}))},e}();function v(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var k=function(){function e(e){if(!e)throw Error("js-search requires a uid field name constructor parameter");this._uidFieldName=e,this._indexStrategy=new f,this._searchIndex=new m(e),this._sanitizer=new h,this._tokenizer=new p,this._documents=[],this._searchableFields=[]}var t,n,i,r=e.prototype;return r.addDocument=function(e){this.addDocuments([e])},r.addDocuments=function(e){this._documents=this._documents.concat(e),this.indexDocuments_(e,this._searchableFields)},r.addIndex=function(e){this._searchableFields.push(e),this.indexDocuments_(this._documents,[e])},r.search=function(e){var t=this._tokenizer.tokenize(this._sanitizer.sanitize(e));return this._searchIndex.search(t,this._documents)},r.indexDocuments_=function(e,t){this._initialized=!0;for(var n=this._indexStrategy,i=this._sanitizer,r=this._searchIndex,o=this._tokenizer,a=this._uidFieldName,s=0,u=e.length;s<u;s++){var c,d=e[s];c=a instanceof Array?_(d,a):d[a];for(var l=0,f=t.length;l<f;l++){var h,m=t[l];if(null!=(h=m instanceof Array?_(d,m):d[m])&&"string"!=typeof h&&h.toString&&(h=h.toString()),"string"==typeof h)for(var g=o.tokenize(i.sanitize(h)),p=0,v=g.length;p<v;p++)for(var k=g[p],y=n.expandToken(k),w=0,z=y.length;w<z;w++){var x=y[w];r.indexDocument(x,c,d)}}}},t=e,(n=[{key:"indexStrategy",set:function(e){if(this._initialized)throw Error("IIndexStrategy cannot be set after initialization");this._indexStrategy=e},get:function(){return this._indexStrategy}},{key:"sanitizer",set:function(e){if(this._initialized)throw Error("ISanitizer cannot be set after initialization");this._sanitizer=e},get:function(){return this._sanitizer}},{key:"searchIndex",set:function(e){if(this._initialized)throw Error("ISearchIndex cannot be set after initialization");this._searchIndex=e},get:function(){return this._searchIndex}},{key:"tokenizer",set:function(e){if(this._initialized)throw Error("ITokenizer cannot be set after initialization");this._tokenizer=e},get:function(){return this._tokenizer}}])&&v(t.prototype,n),i&&v(t,i),e}(),y=n(103);var w=n(4472),z=n(2903);var x={name:"r95v88",styles:"display:block;margin:50px 0;text-align:center"};var I=e=>{let{data:{site:{siteMetadata:{configs:{countOfInitialPost:t}}}}}=e;const{params:n}=(0,l.Z)(),{data:f}=(()=>{const{params:e}=(0,l.Z)(),{0:t,1:n}=(0,i.useState)([]),{allMarkdownRemark:r}=(0,y.useStaticQuery)("2167568426"),o=(0,i.useMemo)((()=>r.edges.map((e=>{let{node:t}=e;return{id:t.id,title:t.frontmatter.title,excerpt:t.excerpt,slug:t.fields.slug,content:t.html.replace(/(<([^>]+)>)/gi,"")}}))),[r.edges]),a=(0,i.useMemo)((()=>new k("id")),[]);return a.addIndex("title"),a.addIndex("excerpt"),a.addIndex("content"),a.addDocuments(o),(0,i.useEffect)((()=>{if(e.keyword){const t=a.search(e.keyword);n(t)}else n([])}),[a,e.keyword]),{data:t}})(),[h,_,m]=(0,s.Z)(),g=(0,i.useCallback)((e=>u.Ti()-e),[]);(0,a.Z)(),(0,c.Z)((()=>{const e=window.scrollY+window.innerHeight,n=()=>g(e)<w.M6;return(0,d.G)(m,{dismissCondition:()=>!n(),triggerCondition:()=>n()&&f.length>_.current*t})()}));const p=(0,i.useMemo)((()=>f.slice(0,h*t)),[f,h,t]);return(0,z.BX)("div",{children:[(0,z.tZ)(r.ZT,{variant:"title2",css:x,children:f.length>0?'"'+n.keyword+'" 에 대해 총 '+f.length+"건이 검색되었습니다.":'"'+n.keyword+'" 에 대한 검색 결과가 없습니다.'}),(0,z.tZ)(o.p,{posts:p})]})}},1653:function(e,t,n){n.d(t,{G:function(){return i}});const i=(e,t)=>{let{dismissCondition:n=(()=>!1),triggerCondition:i=(()=>!0)}=t;if(!e)throw Error("Invalid required arguments");let r=!1;return()=>r?null:(r=!0,requestAnimationFrame((()=>n()?(r=!1,null):i()?(r=!1,e()):null)))}}}]);
//# sourceMappingURL=component---src-pages-search-tsx-b5ac568c9b9242ee5a19.js.map